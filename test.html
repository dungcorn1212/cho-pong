<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>L·ª£n ƒëi t√¨m B√¥ng Hoa</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      background-color: #fdf6f0;
    }
    #game {
      display: grid;
      grid-template-columns: repeat(5, 60px);
      grid-template-rows: repeat(5, 60px);
      gap: 5px;
      margin: 40px auto;
      width: max-content;
    }
    .cell {
      width: 60px;
      height: 60px;
      background-color: #fff;
      border: 1px solid #ccc;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 10px;
      text-align: center;
      padding: 2px;
    }
    .pig {
      background-color: #ffb6c1;
    }
    .flower {
      background-color: #c1ffc1;
    }
    .obstacle {
      background-color: #f8d7da;
    }
    .gift {
      background-color: #d4f4fa;
      color: #333;
    }
    #message {
      margin-top: 20px;
      font-size: 18px;
      color: #d15f5f;
    }
    img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
  </style>
</head>
<body>
  <h1>L·ª£n ƒëi t√¨m B√¥ng Hoa üå∏üê∑</h1>
  <div id="game"></div>
  <div id="message"></div>

  <script>
    const gridSize = 5;
    const game = document.getElementById("game");
    const message = document.getElementById("message");

    const grid = [];
    for (let i = 0; i < gridSize * gridSize; i++) {
      const cell = document.createElement("div");
      cell.className = "cell";
      grid.push(cell);
      game.appendChild(cell);
    }

    let pigPos = 0;
    const flowerPos = gridSize * gridSize - 1;
    const obstacles = [6, 12, 17];
    const obstacleTexts = {
      6: "Block\nL·ª£n EQ th·∫•p",
      12: "Ghost\nL·ª£n ngoo lu·ªën",
      17: "Silent Treatment\n1 tu·∫ßn L·ª£n b√≠u"
    };

    const gifts = [2, 10, 14];
    const giftTexts = {
      2: "T√°t l·ª£n b√≠u 1 c√°i",
      10: "G√µ l·ª£n ngu 1 c√°i",
      14: "ƒÇn b√∫n ch·∫£ c√πng l·ª£n"
    };
    const giftMessages = {
      2: "T√°t bao nhi√™u c√°i c≈©ng ƒë∆∞·ª£c, nh∆∞ng mi·ªÖn l√† v·∫´n y√™u th∆∞∆°ng L·ª£n l·∫Øm!",
      10: "2. G√µ nh·∫π th√¥i, L·ª£n y·∫øu ƒëu·ªëi t·ªïn th∆∞∆°ng c·∫ßn P√¥ng xoa nh·∫π nh√†ng √°!",
      14: "ƒê·ª´ng gi·∫≠n L·ª£n n·ªØa, r·ªìi h∆∞·ªõng d·∫´n L·ª£n mua th·ªãt th√† ƒë·ªÉ c√≤n chu·∫©n b·ªã b√∫n ch·∫£ cho P√¥ng ng√†y mai n·ªØa ch·ª©uuuuu"
    };

    const apologyMessages = [
      "L·ª£n bi·∫øt m√¨nh ƒë√£ sai n√™n ƒë·ª´ng gh√©t l·ª£n n·ªØa nha, t·ªõ s·∫Ω h√°t b√π cho Chou bao nhi√™u b√†i h√°t c≈©ng ƒë∆∞·ª£c h·∫øt nh√°aa",
      "L·ª£n r·∫•t nh·ªõ P√¥ng nh·ªè ƒë√°ng iu, cute. Chou ƒë√°ng s·ª£ t·∫°m ƒëi ƒë∆∞·ª£c kh√¥ng ·∫°",
      "L·ª£n s·∫Ω t·ª± o√°nh b·∫£n th√¢n cho ch·ª´a, tu·ª≥ P√¥ng ch·ªçn",
      "P√¥ng nh·ªè xinh iu tuy·ªát v·ªùi, ƒë·ª´ng kh√≥ ch·ªãu L·ª£n n·ªØa ƒë·ªÉ mai t·ª•i m√¨nh g·∫∑p nhau vui ∆°i l√† vui"
    ];

    function render() {
      grid.forEach((cell, i) => {
        cell.className = "cell";
        cell.innerHTML = "";
        if (obstacles.includes(i)) {
          cell.classList.add("obstacle");
          cell.textContent = obstacleTexts[i] || "üíî";
        }
        if (gifts.includes(i)) {
          cell.classList.add("gift");
          cell.textContent = giftTexts[i];
        }
        if (i === pigPos) {
          cell.classList.add("pig");
          cell.innerHTML = '<img src="pig.png" alt="Pig">';
        }
        if (i === flowerPos) {
          cell.classList.add("flower");
          cell.innerHTML = '<img src="pong.png" alt="Flower">';
        }
      });
    }

    function showMessage(isBlocked = false, steppedOnGift = null) {
      if (pigPos === flowerPos) {
        message.textContent = "L·ª£n ƒë√£ ƒë·∫øn b√™n P√¥ng nh·ªè r·ªìi! ƒê·ªìng nghƒ©a Chou ƒë√£ tha th·ª© cho L·ª£n, L·ª£n c·∫£m ∆°n v√† mong ng√≥ng g·∫∑p Chou ng√†y mai üíñ";
      } else if (steppedOnGift !== null && giftMessages[steppedOnGift]) {
        message.textContent = giftMessages[steppedOnGift];
      } else if (isBlocked) {
        const msg = apologyMessages[Math.floor(Math.random() * apologyMessages.length)];
        message.textContent = msg;
      } else {
        message.textContent = "";
      }
    }

    document.addEventListener("keydown", (e) => {
      if (pigPos === flowerPos) return;
      let newPigPos = pigPos;
      const row = Math.floor(pigPos / gridSize);
      const col = pigPos % gridSize;
      if (e.key === "ArrowRight" && col < gridSize - 1) newPigPos++;
      else if (e.key === "ArrowLeft" && col > 0) newPigPos--;
      else if (e.key === "ArrowUp" && row > 0) newPigPos -= gridSize;
      else if (e.key === "ArrowDown" && row < gridSize - 1) newPigPos += gridSize;

      if (!obstacles.includes(newPigPos)) {
        pigPos = newPigPos;
        render();
        showMessage(false, newPigPos);
      } else {
        render();
        showMessage(true);
      }
    });

    render();
  </script>
</body>
</html>



